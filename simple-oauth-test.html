<!DOCTYPE html>
<html>
<head>
    <title>Simple OAuth Test</title>
</head>
<body>
    <h1>Simple OAuth Test</h1>
    <p>Click the link below to test Google OAuth:</p>
    
    <a href="https://accounts.google.com/o/oauth2/v2/auth?client_id=534312515723-m24e6si8gp52he7o2mefbpif6mkue5b0.apps.googleusercontent.com&redirect_uri=https%3A%2F%2Ftfuhfrjokvmectwfrazm.supabase.co%2Fauth%2Fv1%2Fcallback&response_type=code&scope=email+profile&state=test" target="_blank">
        üîó Test Google OAuth (Direct Link)
    </a>
    
    <hr>
    
    <p>Or use the Supabase method:</p>
    <button onclick="testSupabaseOAuth()">Test via Supabase</button>
    <div id="result"></div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
        const supabase = window.supabase.createClient(
            'https://tfuhfrjokvmectwfrazm.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRmdWhmcmpva3ZtZWN0d2ZyYXptIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUwNTE3NjUsImV4cCI6MjA3MDYyNzc2NX0.tYKnTxnKqEVm3mMqo-s6vx06dKPEJBziADgkXJuQ8Ng'
        )

        async function testSupabaseOAuth() {
            const result = document.getElementById('result')
            result.innerHTML = 'Testing OAuth via Supabase...'
            
            try {
                const { data, error } = await supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo: window.location.origin.replace('file://', 'http://localhost:3000') + '/auth/callback'
                    }
                })
                
                if (error) {
                    result.innerHTML = `‚ùå Error: ${error.message}`
                    console.error('OAuth error:', error)
                } else {
                    result.innerHTML = `‚úÖ Redirecting to: ${data.url}`
                    console.log('OAuth data:', data)
                    // Open in new tab for testing
                    window.open(data.url, '_blank')
                }
            } catch (err) {
                result.innerHTML = `‚ùå Exception: ${err.message}`
                console.error('OAuth exception:', err)
            }
        }
    </script>
</body>
</html>